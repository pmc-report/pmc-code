<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="gean.pmc_report_manager.modules.report.dao.TaBiw3StateDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="gean.pmc_report_manager.modules.report.entity.TaBiw3StateEntity" id="taBiw3StateMap">
        <result property="taBiw3StateId" column="ta_biw3_state_id"/>
        <result property="createTime" column="create_time"/>
        <result property="shop" column="shop"/>
        <result property="area" column="area"/>
        <result property="zone" column="zone"/>
        <result property="equipment" column="equipment"/>
        <result property="facilityDesc" column="facility_desc"/>
        <result property="station" column="station"/>
        <result property="facilityId" column="facility_id"/>
        <result property="jobId" column="job_id"/>
        <result property="startTime" column="start_time"/>
        <result property="endTime" column="end_time"/>
        <result property="duration" column="duration"/>
        <result property="state" column="state"/>
        <result property="designCycleTime" column="design_cycle_time"/>
        <result property="shift" column="shift"/>
        <result property="tavFlag" column="tav_flag"/>
        <result property="historical" column="historical"/>
        <result property="processedFlag" column="processed_flag"/>
        <result property="workDay" column="work_day"/>
    </resultMap>

	<select id="queryZoneOpr" resultMap="taBiw3StateMap">
		SELECT DISTINCT 
			e.state ,
			e.duration,
			e.[zone],
			e.design_cycle_time
		FROM
			TA_BIW3_STATE e 
		WHERE 1 = 1
		<if test="area!=null and area!=''">
			AND e.shop =#{shop}
		</if>
		<if test="area!=null and area!=''">
			AND e.area =#{area}
		</if>
		<if test="shift!=null and shift!=''">
			AND e.shift =#{shift}	
		</if>
		<if test="sTime!=null">
			AND e.work_day =#{sTime}
		</if>
	</select>

</mapper>